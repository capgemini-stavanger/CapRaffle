@model CapRaffle.Models.LogOnViewModel
@{
    ViewBag.Title = "CapRaffle";
}
<p>Please log in:</p>
@using (Html.BeginForm("LogOn", "Account", FormMethod.Post, new { onsubmit = "", id = "LogInForm" }))
{
    @Html.ValidationSummary(true)
    <p>
    @Html.LabelFor(x => x.Email)
    <br />
    @Html.EditorFor(x => x.Email)
    </p>
    <p>
    @Html.LabelFor(x => x.Password)
    <br />
    @Html.EditorFor(x => x.Password)
    </p>
        <div class="buttons">
            <button type="submit" class="positive" name="save">
                <img src="@Url.Content("~/Content/images/apply2.png")" alt=""/>
                Log on
            </button>
        
        @if (TempData["ForgotPassword"] != null)
        {
            <button type="submit" class="regular" name="save">
                <img src="@Url.Content("~/Content/images/help.png")" alt=""/>
                Send a new password
            </button>
        }
        </div>
}
<br />
<br />
@Html.ActionLink("Register here", "Register")


<script type="text/javascript">

    $(function () {
        $("#login").click(function () {
            var form = $('#LogInForm');
            form.attr('action', '/Account/LogOn');
            form.submit();
        });

        $("#forgotPassword").click(function () {
            var form = $('#LogInForm');
            form.attr('action', '/Account/ForgotPassword');
            form.submit();
        });
    }); 
</script>